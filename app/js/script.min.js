function showModal(t,e,o){$("#"+t).css("display","block"),$("#"+t+" h2").text(e),$("#"+t+" p").text(o),$("#"+t+" .close-button").on("click",(function(){$("#"+t).css("display","none")}))}$((function(){$("#contactForm").submit((function(t){t.preventDefault();var e=$(this);$.ajax({url:e.attr("action"),type:e.attr("method"),data:e.serialize(),dataType:"json",success:function(t){e[0].reset(),t.success?showModal("successModal","Success!",t.message):showModal("errorModal","Error",t.message)},error:function(){showModal("errorModal","Error","An error occurred. Please try again.")}})}))}));let isEmailValid=!0,isLinkValid=!0;function validateEmail(t,e,o){validateEmailAddress($(t).val())?($(e).text(""),isEmailValid=!0):($(e).text("incorrect email!"),isEmailValid=!1),toggleSubmitButton(o)}function validateComment(t,e,o){containsLink($(t).val())?($(e).text("no links allowed!"),isLinkValid=!1):($(e).text(""),isLinkValid=!0),toggleSubmitButton(o)}function toggleSubmitButton(t){$(t).prop("disabled",!(isLinkValid&&isEmailValid))}function containsLink(t){return/(https?:\/\/)?(www\.)?[\w-]+(\.[\w-]+)+([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-])?/i.test(t)}function validateEmailAddress(t){return!!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)&&/@(gmail\.com|yandex\.ru|mail\.ru|outlook\.com)$/i.test(t)}$(document).on("input",(function(t){const e=t.target;if($(e).hasClass("contacts__form-textarea")&&e.form){const t=e;validateComment(t,$(t.form).find(".contacts__warr-message"),$(t.form).find(".contacts__form-btn"))}if($(e).hasClass("email")&&e.form){const t=e,o=$(t.form).find(".contacts__warr-email"),n=$(t.form).find(".contacts__form-btn");""===$(t).val().trim()?($(o).text(""),isEmailValid=!0):validateEmail(t,o,n)}})),$(document).on("submit",(function(t){const e=t.target;if("FORM"===$(e).prop("tagName")){const o=e,n=$(o).find(".contacts__form-textarea"),i=$(o).find(".contacts__warr-message"),s=$(o).find(".email"),a=$(o).find(".contacts__warr-email"),r=$(o).find(".contacts__form-btn");formSubmitted||(t.preventDefault(),validateComment(n,i,r),validateEmail(s,a,r))}}));let swiper=new Swiper(".slider",{effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",coverflowEffect:{rotate:20,stretch:0,depth:200,modifier:1,slideShadows:!0},loop:!0,navigation:{nextEl:".button-next",prevEl:".button-prev"}});const gate=document.querySelectorAll(".header__img-gate"),menu=document.querySelector(".menu__list"),classesToRemove=["gate-left","gate-right"];setTimeout((()=>{gate.forEach((t=>{classesToRemove.forEach((e=>{t.classList.remove(e)}))})),menu.classList.remove("hidden")}),1800),setTimeout((()=>{gate.forEach((t=>{t.classList.remove("hidden")}))}),300);const typingTexts=document.querySelectorAll(".text");typingTexts.forEach((t=>{const e=t.textContent;t.textContent="";let o=0;function n(){o<e.length&&(t.textContent+=e[o],o++,setTimeout(n,15))}const i=new IntersectionObserver((e=>{e[0].isIntersecting&&(n(),i.unobserve(t))}));i.observe(t)}));const mobMenuBtn=document.querySelector(".menu__btn"),closeBtn=document.querySelector(".close-btn"),mobMenu=document.querySelector(".menu__list");mobMenuBtn.addEventListener("click",(()=>{mobMenu.classList.add("menu__list--active")})),closeBtn.addEventListener("click",(()=>{mobMenu.classList.remove("menu__list--active")}));